---
layout: layout
title: "Work Experience"
---

<link rel="stylesheet" href="/stylesheets/work_experience.css">

<main class="we-container">
  <h1>Work Experience</h1>

  <% list = (data['work_experience'] || data['work_experience'.to_sym] || []) %>
  <% groups = list.group_by { |w| w['condition'].to_s.strip } %>

  <% order = ['still_working', 'passed'] %>
  <% labels = { 'still_working' => 'Currently Working', 'passed' => 'Past Roles' } %>
  <% ordered = order + (groups.keys - order) %>

  <% ordered.each do |key| %>
    <% items = groups[key] %>
    <% next if !items || items.empty? %>

    <section class="we-section" id="<%= key %>">
      <h2 class="we-section-title"><%= labels[key] || key.capitalize %></h2>

      <% items.each_with_index do |w, i| %>
        <article class="we-card" id="we-<%= key %>-<%= i %>">
            <header class="we-head">
            <% if w['company_name'].to_s.strip != '' %>
                <h3 class="we-company"><%= w['company_name'] %></h3>
            <% end %>

            <% if w['position'].to_s.strip != '' %>
                <div class="we-pos"><%= w['position'] %></div>   <!-- ‰∏ã‰∏ÄË°åÔºåÂ∑¶ÂØπÈΩê -->
            <% end %>

            <div class="we-meta">
                <% if w['time'].to_s.strip != '' %>
                <span class="we-time">üìÖ <%= w['time'] %></span>
                <% end %>
                <% if w['located'].to_s.strip != '' %>
                <span class="we-sep"> </span><span class="we-loc">üìç <%= w['located'] %></span>
                <% end %>
            </div>
            </header>


          <% descs = (w['descriptions'] || w['description'] || []) %>
          <% descs = [descs] if descs.is_a?(String) %>
          <% if descs.any? %>
            <ul class="we-desc">
              <% descs.each do |d| %>
                <% next if d.to_s.strip == '' %>
                <li><%= d %></li>
              <% end %>
            </ul>
          <% end %>
        </article>
      <% end %>
    </section>
  <% end %>
</main>
