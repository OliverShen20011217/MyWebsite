---
layout: layout
title: "Work Experience"
---

<link rel="stylesheet" href="/stylesheets/work_experience.css">

<main class="we-container">
  <h1>Work Experience</h1>

  <% list =
      data['work_experience'] || [] %>

  <% groups = list.group_by { |w| w['condition'].to_s.strip } %>
  <% order  = ['still_working', 'passed'] %>
  <% labels = { 'still_working' => 'Currently Working', 'passed' => 'Past Roles' } %>
  <% ordered_keys = order + (groups.keys - order) %>

  <% ordered_keys.each do |key| %>
    <% items = groups[key] %>
    <% next if !items || items.empty? %>

    <section class="we-section" id="<%= key %>">
      <h2 class="we-section-title"><%= labels[key] || key.to_s.gsub('_',' ').capitalize %></h2>

      <% items.each_with_index do |w, i| %>
        <article class="we-card" id="we-<%= key %>-<%= i %>">
          <header class="we-head">
            <% name = w['company_name'].to_s.strip %>
            <% href = w['link'].to_s.strip %>

            <% if name != '' %>
            <h3 class="we-company">
                <% if href != '' %>
                <a class="we-company-link" href="<%= href %>" target="_blank" rel="noopener"><%= name %></a>
                <% else %>
                <%= name %>
                <% end %>
            </h3>
            <% end %>

            <% if w['located'].to_s.strip != '' %>
              <div class="we-loc">üìç <%= w['located'] %></div>
            <% end %>

            <% if w['position'].to_s.strip != '' %>
              <div class="we-pos"><%= w['position'] %></div>
            <% end %>

            <% if w['time'].to_s.strip != '' %>
              <div class="we-time">üìÖ <%= w['time'] %></div>
            <% end %>
          </header>

          <% descs = (w['descriptions'] || w['description'] || []) %>
          <% descs = [descs] if descs.is_a?(String) %>
          <% if descs.any? %>
            <ul class="we-desc">
              <% descs.each do |d| %>
                <% next if d.to_s.strip == '' %>
                <li><%= d %></li>
              <% end %>
            </ul>
          <% end %>
        </article>
      <% end %>
    </section>
  <% end %>
</main>
